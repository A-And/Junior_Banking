<!DOCTYPE html >
<html>
<head>
{% load staticfiles %}
<!--Author: Michal-->

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href={% static 'footer.css' %}/>

    <link rel="stylesheet" type="text/css" href={% static 'atms/ATMs-CSS.css' %} />
    <style>
		body {background-image: url('{% static "general\background_kids.jpg" %}') ;}
		#nav_bar {background-image: url('{% static "general\lloyds_group_logo.png" %}') ;}
	</style>
	<title>ATMs</title>
    <script
	src="http://maps.googleapis.com/maps/api/js">
	</script>
<!--Initialises points on map-->
<script>
 var geocoder;
  var map;
function initialise(){
  geocoder = new google.maps.Geocoder();
  var latlng = new google.maps.LatLng(54.9831,-1.5879);
  var mapProp = {
  zoom:12,
  center:latlng
  }
   map=new google.maps.Map(document.getElementById("googleMap"),mapProp);
} 
	//If location taken from server, shows on map and displays name and marker
	function codeAddress() {
  	var address = document.getElementById('address').value;
  	geocoder.geocode( { 'address': address}, function(results, status) {
    if (status == google.maps.GeocoderStatus.OK) {
      map.setCenter(results[0].geometry.location);
      var marker = new google.maps.Marker({
          map: map,
          position: results[0].geometry.location
      });
	  document.getElementById('location1').style.display = 'block';
    } else {
       
    }
  });
  }
  //If location taken from server, shows on map and displays name and marker
  function codeAddress2() {
  	var address = document.getElementById('address2').value;
  	geocoder.geocode( { 'address': address}, function(results, status) {
    if (status == google.maps.GeocoderStatus.OK) {
      map.setCenter(results[0].geometry.location);
      var marker = new google.maps.Marker({
          map: map,
          position: results[0].geometry.location
      });
	  document.getElementById('location2').style.display = 'block';
    } else {
	  document.getElementById('location2').style.display = 'none';
       
    }
  });
  }
  //If location taken from server, shows on map and displays name and marker
    function codeAddress3() {
  	var address = document.getElementById('address3').value;
  	geocoder.geocode( { 'address': address}, function(results, status) {
    if (status == google.maps.GeocoderStatus.OK) {
      map.setCenter(results[0].geometry.location);
      var marker = new google.maps.Marker({
          map: map,
          position: results[0].geometry.location
      });
	  document.getElementById('location3').style.display = 'block';
    } else {
       
    }
  });
  }
  //If location taken from server, shows on map and displays name and marker
    function codeAddress4() {
  	var address = document.getElementById('address4').value;
  	geocoder.geocode( { 'address': address}, function(results, status) {
    if (status == google.maps.GeocoderStatus.OK) {
      map.setCenter(results[0].geometry.location);
      var marker = new google.maps.Marker({
          map: map,
          position: results[0].geometry.location
      });
	  document.getElementById('location4').style.display = 'block';
    } else {
       
    }
  });
  }
  //If location taken from server, shows on map and displays name and marker
    function codeAddress5() {
  	var address = document.getElementById('address5').value;
  	geocoder.geocode( { 'address': address}, function(results, status) {
    if (status == google.maps.GeocoderStatus.OK) {
      map.setCenter(results[0].geometry.location);
      var marker = new google.maps.Marker({
          map: map,
          position: results[0].geometry.location
      });
	  document.getElementById('location5').style.display = 'block';
    } else {
       
    }
  });
  }
</script>
</head>

<!--Runs methods on load-->

<body onLoad="initialise(); codeAddress(); codeAddress2(); codeAddress3(); codeAddress4(); codeAddress5()">
{% include 'nav_bar.html' %}


<div id="banner">
	<img src={% static 'atms/ATMs.png' %} alt="ATMs" title="ATMs" width="1055" height="191" />
	{% include 'logout_button.html' %}
</div>

<div id="content">
	<div id="prompt">
		<p>You can withdraw the money at...</p>
	</div> 
	<!--Provides buttons to zoom on given location, not displayed if request failed-->
	<ul id="atm_list">	
        <div style="display:none" id="location1"<li><p>{{ atms.1.location }} <input type="button" value="Go!" onClick="codeAddress()" style="float:right;"></p></li></div>
        <div style="display:none" id="location2"<li><p>{{ atms.2.location }} <input type="button" value="Go!" onClick="codeAddress2()" style="float:right;"></p></li></div>
        <div style="display:none" id="location3"<li><p>{{ atms.3.location }} <input type="button" value="Go!" onClick="codeAddress3()" style="float:right;"></p></li></div>
        <div style="display:none" id="location4"<li><p>{{ atms.4.location }} <input type="button" value="Go!" onClick="codeAddress4()" style="float:right;"></p></li></div>
        <div style="display:none" id="location5"<li><p>{{ atms.5.location }} <input type="button" value="Go!" onClick="codeAddress5()" style="float:right;"></p></li></div>
  	</ul> 
	<hr/>
	<!--Requests locations from server -->

	 <div style="visibility:hidden;">
          <input id="address" type="textbox" value="{{ atms.1.location }}">
          <input id="address2" type="textbox" value="{{ atms.2.location }}">
          <input id="address3" type="textbox" value="{{ atms.3.location }}">
		  <input id="address4" type="textbox" value="{{ atms.4.location }}">
          <input id="address5" type="textbox" value="{{ atms.5.location }}">

   

        </div>
        <!--Imports map-->

	<div id="location"> 
    <div id="googleMap" style="width:1055px;height:380px;"></div>
</div>
<!--Provides footer-->
</div>
		{% include 'footer.html' %}

</body>
</html>
